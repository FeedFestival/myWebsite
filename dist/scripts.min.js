!function(){"use strict";function e(e){e.games=[{id:1,Name:"Backgammon League",Type:"O"},{id:2,Name:"Can you dig it ?",Type:"O"},{id:4,Name:"ElectroN World",Type:"GP"},{id:5,Name:"WDB",Type:"S"}],e.openGame=function(e){console.log("open game in the right")},e.playGame=function(n){e.app.isLoggedIn()&&("O"==n.Type?e.goGame("/game01.html"):console.log("play game on Google Play or Steam"))},e.getButtonClass=function(e){switch(e){case"O":return"btn-play-online";case"S":return"btn-steam"}}}e.$inject=["$scope"],angular.module("game").controller("gamesController",e)}(),function(){"use strict";function e(e,n){e.test="test home",e.openImage=function(e){n.open(e,"_blank")}}e.$inject=["$scope","$window"],angular.module("home").controller("homeController",e)}(),function(){"use strict";function e(e,n){e.navCollapsed=!0,e.menus=[],e.selectMenuItem=function(n){for(var o=0;o<e.menus.length;o++)e.menus[o].id!=n.id?e.menus[o].active=!1:e.menus[o].active=!0;e.go("/"+n.URL)},e.$watch(function(){return n.menus},function(o,t){o!==t&&(e.menus=n.menus)},!0)}e.$inject=["$scope","menuFactory"],angular.module("menu").controller("menuController",e)}(),function(){"use strict";function e(e,n,o){var t={menus:[]},r=o.backend()+"/AppService/GetMenus.php";return t.refreshMenus=function(){var o=e.defer();return n.get(r).success(function(e){o.resolve(e);for(var n=[],r=0;r<e.length;r++)n.push({id:e[r].id,URL:e[r].URL,Icon:e[r].icon,Name:e[r].name});t.menus=n}),o.promise},t}e.$inject=["$q","$http","url"],angular.module("menu").factory("menuFactory",e)}(),function(){"use strict";app.directive("paragraphQuestions",function(){function e(e,n,o,t,r){var i=parseInt(e.p);e.paragraph={},1==i&&(e.paragraph={id:1,answersCount:1,hasAnswers:!0,answeredQuestions:[{id:1,Date:new Date,User:{id:1,Name:"Anonymouse",isAnonymous:!0},Content:"how can i cahow can i cahow can i cahow can i cahow can i cahow can i cahow can i cahow can i cahow can i cahow can i cahow can i cahow can i ca",Answers:[{id:45,Date:new Date,User:{id:3,Name:"Anonymouse45",isAnonymous:!0},Content:"you can shut up!"}]}]},e.paragraph.Questions=[{id:1,QuestionsCount:1},{id:2,QuestionsCount:0}]),e.expandOptions=function(e,n){0==n?(e.expandQuestions=!e.expandQuestions,e.expandAnswers=!1):(e.expandQuestions=!1,e.expandAnswers=!e.expandAnswers)}}var n={restrict:"E",scope:{p:"@paragraph"},template:"<div ng-include=\"'scripts/services_directives/paragraphQuestions.html'\"></div>",controller:e};return e.$inject=["$scope","$element","$attrs","$location","utils"],n}),app.directive("questionsAndAnswers",function(){function e(e,n,o,t,r){var i=parseInt(e.q);1==i?e.question={id:1,QuestionsCount:1,Questions:[{id:3,QuestionsCount:0}],Date:new Date,User:{id:1,Name:"Anonymouse",isAnonymous:!0},Content:"how can i cahow can i cahow can i cahow can i cahow can i cahow can i cahow can i cahow can i cahow can i cahow can i cahow can i cahow can i ca",Answers:[{id:45,Date:new Date,User:{id:3,Name:"Anonymouse45",isAnonymous:!0},Content:"you can shut up!"}]}:2==i?e.question={id:2,QuestionsCount:0,Date:new Date,User:{id:77,Name:"Anonymouse412412",isAnonymous:!0},Content:"how can i cahow can i cahow can i ca ?? "}:3==i?e.question={id:3,QuestionsCount:1,Questions:[{id:4,QuestionsCount:0}],Date:new Date,User:{id:77,Name:"Anonymous666",isAnonymous:!0},Content:" What is your problem bro ?"}:4==i&&(e.question={id:4,QuestionsCount:0,Date:new Date,User:{id:77,Name:"Anonymous666",isAnonymous:!0},Content:" What is your problem bro ?"})}var n={restrict:"E",scope:{q:"@questionId"},template:"<div ng-include=\"'scripts/services_directives/QaA.html'\"></div>",controller:e};return e.$inject=["$scope","$element","$attrs","$location","utils"],n})}(),function(){"use strict";var e=angular.module("loading",[]);e.factory("loadingService",function(){var e={requestCount:0,isLoading:function(){return e.requestCount>0}};return e}),e.factory("onCompleteInterceptor",["$q","loadingService",function(e,n){var o=function(){n.requestCount++},t=function(){n.requestCount--};return{request:function(n){return o(),n||e.when(n)},response:function(n){return t(),n||e.when(n)},responseError:function(n){return t(),e.reject(n)}}}]),e.config(["$httpProvider",function(e){e.interceptors.push("onCompleteInterceptor")}]),e.controller("LoadingCtrl",["$scope","loadingService",function(e,n){e.$watch(function(){return n.isLoading()},function(e){})}]),angular.module("menu").service("titleService",function(){var e="";return{changeTitle:function(n){e=n},getTitle:function(){return e}}}),angular.module("session").service("utils",function(){var e={};return e.checkValueExist=function(e,n){for(var o=0;o<e.length;o++)if(e[o]==n||n.includes(e[o]))return!0;return!1},e}),angular.module("session").service("sessionInformationService",function(){var e={},n={};return{resetInfo:function(){e={}},resetLoggedUser:function(n){e=n},handleFacebookUser:function(o){e={name:o.first_name+" "+(o.middle_name?o.middle_name:"")+o.last_name,picture:o.picture.data.url,facebookUniqueId:o.third_party_id,setting:{id:null,settings:[{id:null,type:{id:null,prog_id:"facebook_unique_id",name:"Facebook third_party_id"},value:o.third_party_id},{id:null,type:{id:null,prog_id:"facebook_email",name:"Email"},value:o.email?o.email:""}]},current_app:{user_type_prog_id:"user_scoped_id",user_value:o.id,app_type_prog_id:"facebook_id",app_value:n.FacebookAppId,app_settings:[{type:{prog_id:"ACTIVATE_MAIL",name:"Activate mail recieving"},value:"true"}]},friends:[]};for(var t=0;t<o.friends.data.length;t++)e.friends.push({prog_id:"user_scoped_id",user_scoped_id:o.friends.data[t].id});return e},getUser:function(){return e},setUser:function(n){return e=n},getSession:function(){return n},setSession:function(e){for(var o=0;o<e.Apps.length;o++)"FeedFestStudio"==e.Apps[o].name&&(e.id=e.Apps[o].id);n=e}}}),angular.module("session").factory("AuthService",["$q","ConfigFileLoaderService",function(e,n){var o={};return o.loginWithFacebook=function(o){var t,r=e.defer();return n.load("aws-credentials.json").then(function(e){(t=e).Logins={"graph.facebook.com":o.accessToken},AWS.config.region="eu-west-1",AWS.config.credentials=new AWS.CognitoIdentityCredentials(t),AWS.config.credentials.get(function(e){e?r.reject(e):r.resolve(AWS.config.credentials.identityId)})},function(e){return r.reject("Problem loading credentials."),r.promise}),r.promise},o}]).factory("ConfigFileLoaderService",["$q","$http",function(e,n){var o={};return o.load=function(o){var t=e.defer();return n.get(o).success(function(e){t.resolve(e)}).error(function(e){t.reject(e)}),t.promise},o}])}(),function(){"use strict";function e(e,n){}e.$inject=["$scope","$window"],angular.module("portfolio").controller("portfolioController",e)}(),function(){"use strict";function e(e,n,o,t,r,i,a,s,c){function u(){if(1==window.gameIsReady)return SendMessage("Game","SetSession",i.sessionId),void(i.sessionId=void 0);r(function(){u()},1e3)}function l(){console.log("sizeHappened()");var n=o.innerWidth;n>=1537?(e.gameWidth="1280px",e.gameHeight="720px"):n>=1367&&n<=1536?(e.gameWidth="1152px",e.gameHeight="648px"):n>=1281&&n<=1366?(e.gameWidth="1024px",e.gameHeight="576px"):n<=1280&&(e.gameWidth="976px",e.gameHeight="549px"),e.app.showSquarePopupAdd=!(n<1536)}e.app={isPlayingGame:!0,showFullScreen:!1,isLoggedIn:function(){return void 0!=e.loggedUser||null!=e.loggedUser},showSquarePopupAdd:!0},i.sessionId&&s.initGame(i.sessionId).then(function(){u()}),l(),angular.element(o).bind("resize",function(){l(),e.$digest()}),e.go=function(e){n.path(e)},e.exitGame=function(e){i.exitedGame=!0,o.location.href=c.base()+"/index.html"}}e.$inject=["$scope","$location","$window","$facebook","$timeout","$localStorage","$sessionStorage","sessionFactory","url"],angular.module("session").controller("gameSessionController",e)}(),function(){"use strict";function e(e,n,o,t,r,i,a,s,c,u,l,d){function p(){l.getFacebookInfo().then(function(e){f(u.handleFacebookUser(e).facebookUniqueId)},function(e){console.log("Failed to login to facebook with error: "+e)})}function f(n){l.getUser(n,u.getSession().id).then(function(o){"USER_EXIST_NOT"==o.Error?l.createUser(u.getUser()).then(function(){f(n)}):i.login(o.id).then(function(){o.id;e.loggedUser=u.getUser(),a.userId=e.loggedUser.id,d.refreshMenus()})})}e.app={menuSelected:{id:1},isPlayingGame:!1,isLoggedIn:function(){return void 0!=e.loggedUser||null!=e.loggedUser}},a.exitedGame&&(a.exitedGame=!1,n.path("/games")),null!=a.userId&&(e.app.loggingIn=!1),i.setupApp().then(function(n){u.setSession({FacebookAppId:"1193283007398999",Apps:n}),d.refreshMenus(),t.getLoginStatus().then(function(n){"connected"===n.status?(e.app.facebookConnected=!0,null!=a.userId&&p()):e.app.facebookConnected=!1})}),e.loginWithFacebook=function(){if(!e.app.isLoggedIn())if(e.app.facebookConnected)p();else{t.login("public_profile, email, user_friends").then(function(){p()})}},e.logout=function(){i.logout(a.userId).then(function(){e.go("/home"),e.loggedUser=void 0,a.userId=void 0,u.resetInfo(),d.refreshMenus()})},e.go=function(e){n.path(e)},e.goGame=function(e){i.prepGame().then(function(n){a.sessionId=n.SessionId,o.location.href=c.base()+e})}}e.$inject=["$scope","$location","$window","$facebook","$timeout","sessionFactory","$localStorage","$sessionStorage","url","sessionInformationService","userFactory","menuFactory"],angular.module("session").controller("sessionController",e)}(),function(){"use strict";function e(e,n,o,t){var r={},i=o.backend()+"/AppService/GetApps.php",a=o.backend()+"/SessionService/InitSession.php",s=o.backend()+"/SessionService/CloseSession.php",c=o.backend()+"/Session_SetupGame.php",u=o.backend()+"/Session_InitGame.php";return r.setupApp=function(){var o=e.defer();return n.get(i).then(function(e){o.resolve(e)},function(e){console.error(e)}),o.promise},r.login=function(o){var r=e.defer();return n({method:"POST",url:a,data:t({data:{user_id:o,user:{}}}),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){r.resolve(e.data)},function(e){r.reject("Error occured"+e),console.error(e.data.Error)}),r.promise},r.prepGame=function(){var o=e.defer();return n({method:"POST",url:c,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){o.resolve(e.data)},function(e){o.reject("Error occured"+e),console.error(e.data.Error)}),o.promise},r.initGame=function(o){var t=e.defer();return n({method:"POST",url:u,data:{sessionId:o},headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){t.resolve(e)},function(e){t.reject("Error occured"+e),console.error(e.data.Error)}),t.promise},r.logout=function(o){var r=e.defer();return n({method:"POST",url:s,data:t({data:{user_id:o}}),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){r.resolve(e)},function(e){r.reject("Error occured"+e),console.error(e.data.Error)}),r.promise},r}e.$inject=["$q","$http","url","$httpParamSerializerJQLike"],angular.module("session").factory("sessionFactory",e)}(),function(){"use strict";function e(e,n,o,t,r,i){o.id;!function(){e.tutorial={id:o.id,Name:"",CreatedBy:"Simionescu Daniel",LastUpdateDate:new Date,Link:"scripts/tutorial/tutorials/tutorial01.html",Paragraphs:[{id:1,Name:"The model"},{id:2,Name:"Ambient occlusion"},{id:3,Name:"Texture"}]}}(),e.openImage=function(e){r.open(e,"_blank")}}e.$inject=["$scope","$sce","$routeParams","$templateRequest","$window","utils"],angular.module("tutorial").controller("tutorialController",e)}(),function(){"use strict";function e(e,n){e.tutorials=[{id:1,Name:"Tutorial01",Description:"First tutorial.",Link:"tutorials/tutorial01.html"},{id:2,Name:"Tutorial02",Description:"Second tutorial.",Link:"tutorials/tutorial02.html"}],e.showTutorialDescription=function(e){},e.openImage=function(e){n.open(e,"_blank")}}e.$inject=["$scope","$window"],angular.module("tutorial").controller("tutorialsController",e)}(),function(){"use strict";function e(e,n,o,t){var r={},i=o.backend()+"/UserService/GetUser.php",a=o.backend()+"/UserService/CreateUser.php";return r.getFacebookInfo=function(){var n=e.defer();return FB.api("/me",{fields:["third_party_id","first_name","last_name","middle_name","link","email","picture","token_for_business","ids_for_business","friends"]},function(e){!e||e.error?(n.reject("Error occured"),console.error(e.data.Error)):n.resolve(e)}),n.promise},r.getUser=function(o,r){var a=e.defer();return n({method:"POST",url:i,data:t({data:{facebook_unique_id:o,app_id:r}}),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){a.resolve(e.data)},function(e){"USER_EXIST_NOT"==e.data.Error?a.resolve(e.data):(a.reject("Error occured"+e),console.error(e.data.Error))}),a.promise},r.createUser=function(o){var r=e.defer(),i={current_app:o.current_app,name:o.name,friends:o.friends,setting:o.setting};return i.current_app.app_settings=JSON.stringify(i.current_app.app_settings),n({method:"POST",url:a,data:t({data:i}),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){r.resolve(e.data)},function(e){r.reject("Error occured"+e),console.error(e.data.Error)}),r.promise},r}e.$inject=["$q","$http","url","$httpParamSerializerJQLike"],angular.module("user").factory("userFactory",e)}(),function(){"use strict";function e(e,n,o,t,r,i){o.id;!function(){e.workflow={id:o.id,Name:"",CreatedBy:"Simionescu Daniel",LastUpdateDate:new Date,Link:"scripts/workflow/workflows/workflow01.html",Paragraphs:[{id:1,Name:"The model"},{id:2,Name:"Ambient occlusion"},{id:3,Name:"Texture"}]}}(),e.openImage=function(e){r.open(e,"_blank")}}e.$inject=["$scope","$sce","$routeParams","$templateRequest","$window","utils"],angular.module("workflow").controller("workflowController",e)}(),function(){"use strict";function e(e,n){e.workflows=[{id:1,Name:"workflow01",Description:"First workflow.",Link:"workflows/workflow01.html"},{id:2,Name:"workflow02",Description:"Second workflow.",Link:"workflows/workflow02.html"}],e.showworkflowDescription=function(e){},e.openImage=function(e){n.open(e,"_blank")}}e.$inject=["$scope","$window"],angular.module("workflow").controller("workflowsController",e)}();